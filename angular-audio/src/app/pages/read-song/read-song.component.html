<div class="container mt-3" *ngIf="signForm">
  <form [formGroup]="signForm">
    <div class="form-group" style="margin-bottom: 0;">
      <label for="btnFile" class="btn btn-success mr-2">Choose Files</label>
      <span *ngIf="signForm.get('file').value" class="mr-5">{{ signForm.get('file').value.name | songnamepipe }}</span>
      <span *ngIf="signForm.get('file').value">{{ (signForm.get('file').value.size/1000000).toFixed(1) + ' MB' }}</span>
      <input (change)="onSelectFile($event)" type="file" class="form-control-file" id="btnFile" style="display: none;">
    </div>
    <span style="color: gray;font-style: italic;">NK MP3 supports mp3, m4a, flac, wav file formats (Maximum size is
      60MB)</span>
    <!-- <div class="form-group">
      <span class="mr-2" style="color: #dc3545; font-size: 15px;" class="mr-2"
        *ngIf="signForm.get('file').hasError('invalid')">File is
        invalid</span>
      <span class="mr-2" style="color: #dc3545; font-size: 15px;"
        *ngIf="signForm.get('file').hasError('invalidSize')">File size
        is invalid</span>
      <span class="mr-2" style="color: #dc3545; font-size: 15px;"
        *ngIf="signForm.get('file').hasError('fileNameLength')">Max length of file name: 150</span>
      <span class="mr-2" style="color: #dc3545; font-size: 15px;"
        *ngIf="signForm.get('file').hasError('numberExtensions')">File should have only one extension</span>
      <span class="mr-2" style="color: #dc3545; font-size: 15px;"
        *ngIf="signForm.get('file').hasError('controlCharacters')">File name should not have control
        characters</span>
      <span class="mr-2" style="color: #dc3545; font-size: 15px;"
        *ngIf="signForm.get('file').hasError('required')">Something went wrong</span>
    </div> -->
    <button [disabled]="signForm.invalid" type="button" (click)="submit()"
      class="btn btn-secondary btn-block mb-5 mt-2">Check watermark
    </button>
  </form>
  <div class="file-info" *ngIf="decodeInfo" id="info">
    <h5>File: <strong>{{ decodeInfo.file }}</strong></h5>
    <h5>User Id: <strong>{{ decodeInfo.userid }}</strong></h5>
    <h5>User Name: <strong>{{ decodeInfo.username ? decodeInfo.username : '' }}</strong></h5>
    <h5>Result: <strong [ngStyle]="{'color': decodeInfo.watermarked ? 'red' : 'green'}">{{ decodeInfo.watermarked ? 'Watermarked' : 'Not Watermarked' }}</strong></h5>
    <!-- <mat-icon (click)="print()" class="printIcon" matTooltip="Print">print</mat-icon> -->
  </div>
</div>
<app-loading *ngIf="loading"></app-loading>